---
import type { Post } from "../../lib/types";
import type { Lang } from "../../i18n/i18n";
import PostCard from "./PostCard.astro";
import PostLinkItem from "../molecules/PostLinkItem.astro";

export type Props = {
  posts: Post[];
  lang: Lang;
  variant?: "card" | "compact";
};

const { posts, lang, variant = "card" } = Astro.props as Props;
---

{
  variant === "compact" ? (
    <div
      class="acg-post-grid grid gap-3 sm:grid-cols-2 lg:gap-4 xl:grid-cols-3 2xl:grid-cols-4"
      data-post-grid
    >
      {posts.map((p, i) => (
        <PostLinkItem post={p} lang={lang} index={i} />
      ))}
    </div>
  ) : (
    <div
      class="acg-post-grid grid gap-3 sm:grid-cols-2 sm:gap-4 lg:gap-5 xl:grid-cols-3 2xl:grid-cols-4"
      data-post-grid
    >
      {posts.map((p, i) => (
        <PostCard post={p} lang={lang} animateIndex={i < 24 ? i : undefined} index={i} />
      ))}
    </div>
  )
}
